---
title: Modi per installare pacchetti NuGet | Microsoft Docs
author: kraigb
ms.author: kraigb
manager: ghogen
ms.date: 02/12/2018
ms.topic: overview
ms.prod: nuget
ms.technology: ''
description: Descrive il processo di installazione dei pacchetti NuGet in un progetto, incluso cosa accade sul disco e ai file di progetto applicabili.
keywords: installare NuGet, utilizzo di un pacchetto NuGet, installazione di pacchetti NuGet, riferimenti ai pacchetti NuGet
ms.reviewer:
- karann-msft
- unniravindranathan
ms.workload:
- dotnet
- aspnet
ms.openlocfilehash: b8cce7bd6c1bd73eb018b8891ddd72b2f4432d55
ms.sourcegitcommit: beb229893559824e8abd6ab16707fd5fe1c6ac26
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 03/28/2018
---
# <a name="different-ways-to-install-a-nuget-package"></a><span data-ttu-id="aee44-104">Diversi modi per installare un pacchetto NuGet</span><span class="sxs-lookup"><span data-stu-id="aee44-104">Different ways to install a NuGet Package</span></span>

<span data-ttu-id="aee44-105">I pacchetti NuGet possono essere scaricati e installati usando uno dei metodi nella tabella seguente (vedere [Installare gli strumenti client di NuGet](../install-nuget-client-tools.md) se non sono già installati).</span><span class="sxs-lookup"><span data-stu-id="aee44-105">NuGet packages are downloaded and installed using any of the methods in the following table (see [Install NuGet client tools](../install-nuget-client-tools.md) if you don't have these installed already).</span></span> <span data-ttu-id="aee44-106">Il pacchetto può essere recuperato da una cache anziché scaricato.</span><span class="sxs-lookup"><span data-stu-id="aee44-106">The package may be retrieved from a cache instead of downloaded.</span></span>

| <span data-ttu-id="aee44-107">Metodo</span><span class="sxs-lookup"><span data-stu-id="aee44-107">Method</span></span> | <span data-ttu-id="aee44-108">Descrizione</span><span class="sxs-lookup"><span data-stu-id="aee44-108">Description</span></span> |
| --- | --- |
| <span data-ttu-id="aee44-109">Interfaccia della riga di comando di dotnet.exe</span><span class="sxs-lookup"><span data-stu-id="aee44-109">dotnet.exe CLI</span></span><br/>`dotnet add package <package_name>` | <span data-ttu-id="aee44-110">(Tutte le piattaforme) Recupera il pacchetto identificato da \<package_name\>, espande il relativo contenuto in una cartella nella directory corrente e aggiunge un riferimento al file di progetto.</span><span class="sxs-lookup"><span data-stu-id="aee44-110">(All platforms) Retrieves the package identified by \<package_name\>, expands its contents into a folder in the current directory, and adds a reference to the project file.</span></span> <span data-ttu-id="aee44-111">Inoltre, recupera e installa le dipendenze.</span><span class="sxs-lookup"><span data-stu-id="aee44-111">Also retrieves and installs dependencies.</span></span><ul><li>[<span data-ttu-id="aee44-112">Installare e usare un pacchetto (interfaccia della riga di comando di dotnet)</span><span class="sxs-lookup"><span data-stu-id="aee44-112">Install and use a package (dotnet CLI)</span></span>](../quickstart/install-and-use-a-package-using-the-dotnet-cli.md)</li><li>[<span data-ttu-id="aee44-113">Comando dotnet add package</span><span class="sxs-lookup"><span data-stu-id="aee44-113">dotnet add package command</span></span>](/dotnet/core/tools/dotnet-add-package)</li></ul> |
| <span data-ttu-id="aee44-114">Interfaccia utente di Gestione pacchetti (Visual Studio)</span><span class="sxs-lookup"><span data-stu-id="aee44-114">Package Manager UI (Visual Studio)</span></span> | <span data-ttu-id="aee44-115">(Windows e Mac) Offre un'interfaccia utente tramite la quale è possibile esplorare, selezionare e installare i pacchetti e le relative dipendenze in un progetto da un'origine di pacchetti specificata.</span><span class="sxs-lookup"><span data-stu-id="aee44-115">(Windows and Mac) Provides a UI through which you can browse, select, and install packages and their dependencies into a project from a specified package source.</span></span> <span data-ttu-id="aee44-116">Aggiunge i riferimenti ai pacchetti installati nel file di progetto.</span><span class="sxs-lookup"><span data-stu-id="aee44-116">Adds references to installed packages to the project file.</span></span><ul><li>[<span data-ttu-id="aee44-117">Installare e usare un pacchetto (Visual Studio)</span><span class="sxs-lookup"><span data-stu-id="aee44-117">Install and use a package (Visual Studio)</span></span>](../quickstart/install-and-use-a-package-in-visual-studio.md)</li><li><span data-ttu-id="aee44-118">[Package Manager UI reference (Windows)](../tools/package-manager-ui.md) (Informazioni di riferimento sull'interfaccia utente di Gestione pacchetti in Windows)</span><span class="sxs-lookup"><span data-stu-id="aee44-118">[Package Manager UI reference (Windows)](../tools/package-manager-ui.md)</span></span></li><li>[<span data-ttu-id="aee44-119">Inserimento di un pacchetto NuGet nel progetto (Mac)</span><span class="sxs-lookup"><span data-stu-id="aee44-119">Including a NuGet package in your project (Mac)</span></span>](/visualstudio/mac/nuget-walkthrough)</li></ul> |
| <span data-ttu-id="aee44-120">Console di Gestione pacchetti (Visual Studio)</span><span class="sxs-lookup"><span data-stu-id="aee44-120">Package Manager Console (Visual Studio)</span></span><br/>`Install-Package <package_name>` | <span data-ttu-id="aee44-121">(Solo Windows) Recupera e installa il pacchetto identificato da \<package_name\> da un'origine selezionata in un progetto specificato nella soluzione, quindi aggiunge un riferimento al file di progetto.</span><span class="sxs-lookup"><span data-stu-id="aee44-121">(Windows only) Retrieves and installs the package identified by \<package_name\> from a selected source into a specified project in the solution, then adds a reference to the project file.</span></span> <span data-ttu-id="aee44-122">Inoltre, recupera e installa le dipendenze.</span><span class="sxs-lookup"><span data-stu-id="aee44-122">Also retrieves and installs dependencies.</span></span><ul><li>[<span data-ttu-id="aee44-123">Installare e usare un pacchetto (Visual Studio)</span><span class="sxs-lookup"><span data-stu-id="aee44-123">Install and use a package (Visual Studio)</span></span>](../quickstart/install-and-use-a-package-in-visual-studio.md)</li><li><span data-ttu-id="aee44-124">[Package Manager Console Guide](../tools/package-manager-console.md) (Guida alla console di Gestione pacchetti)</span><span class="sxs-lookup"><span data-stu-id="aee44-124">[Package Manager Console guide](../tools/package-manager-console.md)</span></span></li></ul> |
| <span data-ttu-id="aee44-125">Interfaccia della riga di comando di nuget.exe</span><span class="sxs-lookup"><span data-stu-id="aee44-125">nuget.exe CLI</span></span><br/>`nuget install <package_name>` | <span data-ttu-id="aee44-126">(Tutte le piattaforme) Recupera il pacchetto identificato da \<package_name\> e ne espande il contenuto in una cartella nella directory corrente. Può anche recuperare tutti i pacchetti elencati in un file `packages.config`.</span><span class="sxs-lookup"><span data-stu-id="aee44-126">(All platforms) Retrieves the package identified by \<package_name\> and expands its contents into a folder in the current directory; can also retrieve all packages listed in a `packages.config` file.</span></span> <span data-ttu-id="aee44-127">Inoltre, recupera e installa le dipendenze, ma non apporta modifiche ai file di progetto o a `packages.config`.</span><span class="sxs-lookup"><span data-stu-id="aee44-127">Also retrieves and installs dependencies, but makes no changes to project files or `packages.config`.</span></span><ul><li>[<span data-ttu-id="aee44-128">Comando install</span><span class="sxs-lookup"><span data-stu-id="aee44-128">install command</span></span>](../tools/cli-ref-install.md)</li></ul> |

## <a name="what-happens-when-a-package-is-installed"></a><span data-ttu-id="aee44-129">Cosa accade quando viene installato un pacchetto</span><span class="sxs-lookup"><span data-stu-id="aee44-129">What happens when a package is installed</span></span>

<span data-ttu-id="aee44-130">Per semplificare, i diversi strumenti di NuGet creano in genere un riferimento a un pacchetto nel file di progetto o in `packages.config`, quindi eseguono un ripristino del pacchetto, che corrisponde in effetti all'installazione del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="aee44-130">Simply said, the different NuGet tools typically create a reference to a package in the project file or `packages.config`, then perform a package restore, which effectively installs the package.</span></span> <span data-ttu-id="aee44-131">L'eccezione è `nuget install`, che espande solo il pacchetto in una cartella `packages` e non modifica altri file.</span><span class="sxs-lookup"><span data-stu-id="aee44-131">The exception is `nuget install`, which only expands the package into a `packages` folder and does not modify any other files.</span></span>

<span data-ttu-id="aee44-132">Il processo generale è il seguente:</span><span class="sxs-lookup"><span data-stu-id="aee44-132">The general process is as follows:</span></span>

1. <span data-ttu-id="aee44-133">(Tutti gli strumenti eccetto `nuget.exe`) Registrare l'identificatore di pacchetto e la versione nel file di progetto o in `packages.config`.</span><span class="sxs-lookup"><span data-stu-id="aee44-133">(All tools except `nuget.exe`) Record the package identifer and version into the project file or `packages.config`.</span></span>

1. <span data-ttu-id="aee44-134">Acquisire il pacchetto:</span><span class="sxs-lookup"><span data-stu-id="aee44-134">Acquire the package:</span></span>
    - <span data-ttu-id="aee44-135">Controllare se il pacchetto (in base all'identificatore esatto e al numero versione) è già installato nella cartella *global-packages* come descritto in [Gestione delle cartelle dei pacchetti globali e della cache](managing-the-global-packages-and-cache-folders.md).</span><span class="sxs-lookup"><span data-stu-id="aee44-135">Check if the package (by exact identifer and version number) is already installed in the *global-packages* folder as described on [Managing the global packages and cache folders](managing-the-global-packages-and-cache-folders.md).</span></span>

    - <span data-ttu-id="aee44-136">Se il pacchetto non è presente nella cartella *global-packages*, tentare di recuperarlo dalle origini elencate nei [file di configurazione](Configuring-NuGet-Behavior.md).</span><span class="sxs-lookup"><span data-stu-id="aee44-136">If the package is not in the *global-packages* folder, attempt to retrieve it from the sources listed listed in the [configuration files](Configuring-NuGet-Behavior.md).</span></span> <span data-ttu-id="aee44-137">Per le origini online, tentare prima di tutto di recuperare il pacchetto dalla cache, a meno che non si specifichi `-NoCache` con i comandi `nuget.exe` o non si specifichi `--no-cache` con `dotnet restore`.</span><span class="sxs-lookup"><span data-stu-id="aee44-137">For online sources, attempt first to retrieve the package from the cache unless `-NoCache` is specified with `nuget.exe` commands or `--no-cache` is specified with `dotnet restore`.</span></span> <span data-ttu-id="aee44-138">(Visual Studio e `dotnet add package` usano sempre la cache.) Se un pacchetto viene usato dalla cache, nell'output compare "CACHE".</span><span class="sxs-lookup"><span data-stu-id="aee44-138">(Visual Studio and `dotnet add package` always use the cache.) If a package is used from the cache, "CACHE" appears in the output.</span></span> <span data-ttu-id="aee44-139">La cache ha una scadenza di 30 minuti.</span><span class="sxs-lookup"><span data-stu-id="aee44-139">The cache has an expiration time of 30 minutes.</span></span>

    - <span data-ttu-id="aee44-140">Se il pacchetto non è presente nella cache, tentare di scaricarlo dalle origini elencate nella configurazione.</span><span class="sxs-lookup"><span data-stu-id="aee44-140">If the package is not in the cache, attempt to download it from the sources listed in the configuration.</span></span> <span data-ttu-id="aee44-141">Se un pacchetto viene scaricato, nell'output compaiono "GET" e "OK".</span><span class="sxs-lookup"><span data-stu-id="aee44-141">If a package is downloaded, "GET" and "OK" appear in the output.</span></span>

    - <span data-ttu-id="aee44-142">Se il pacchetto non può essere acquisito correttamente da qualsiasi origine, l'installazione non riesce a questo punto con un errore come [NU1103](../reference/errors-and-warnings.md#nu1103).</span><span class="sxs-lookup"><span data-stu-id="aee44-142">If the package cannot be successfully acquired from any sources, installation fails at this point with an error such as [NU1103](../reference/errors-and-warnings.md#nu1103).</span></span> <span data-ttu-id="aee44-143">Si noti che gli errori dai comandi `nuget.exe` indicano solo l'ultima origine controllata, ma implicano che il pacchetto non era disponibile da qualsiasi origine.</span><span class="sxs-lookup"><span data-stu-id="aee44-143">Note that errors from `nuget.exe` commands show only the last source checked, but implies that the package wasn't available from any source.</span></span>

    <span data-ttu-id="aee44-144">Per l'acquisizione del pacchetto può essere applicato l'ordine delle origini nella configurazione NuGet:</span><span class="sxs-lookup"><span data-stu-id="aee44-144">When acquiring the package, the order of sources in the NuGet configuration may apply:</span></span>
      - <span data-ttu-id="aee44-145">Per i progetti che usano il formato PackageReference, NuGet controlla la cartella locale delle origini e le condivisioni di rete prima di controllare le origini HTTP.</span><span class="sxs-lookup"><span data-stu-id="aee44-145">For projects using the PackageReference format, NuGet checks sources local folder and network shares before checking HTTP sources.</span></span>
      - <span data-ttu-id="aee44-146">Per i progetti che usano il formato di gestione `packages.config`, NuGet usa l'ordine delle origini nella configurazione.</span><span class="sxs-lookup"><span data-stu-id="aee44-146">For projects using the `packages.config` management format, NuGet uses the order of the sources in the configuration.</span></span> <span data-ttu-id="aee44-147">Le operazioni di ripristino rappresentano un'eccezione. In questo caso, l'ordine delle origini viene ignorato e NuGet usa il pacchetto da qualsiasi origine risponde per prima.</span><span class="sxs-lookup"><span data-stu-id="aee44-147">An exception is restore operations, in which case source ordering is ignored and NuGet uses the package from whichever source responds first.</span></span>
      - <span data-ttu-id="aee44-148">In generale, l'ordine in cui NuGet controlla le origini non è particolarmente significativo, perché qualsiasi pacchetto con uno specifico identificatore e numero di versione è esattamente lo stesso in qualsiasi origine venga trovato.</span><span class="sxs-lookup"><span data-stu-id="aee44-148">In general, the order in which NuGet checks sources isn't particularly meaningful, because any given package with a specific identifier and version number is exactly the same on whatever source it's found.</span></span>

1. <span data-ttu-id="aee44-149">(Tutti gli strumenti eccetto `nuget.exe`) Salvare una copia del pacchetto e altre informazioni nella cartella *http-cache* come descritto in [Gestione delle cartelle dei pacchetti globali e della cache](managing-the-global-packages-and-cache-folders.md).</span><span class="sxs-lookup"><span data-stu-id="aee44-149">(All tools except `nuget.exe`) Save a copy of the package and other information in the *http-cache* folder as described on [Managing the global packages and cache folders](managing-the-global-packages-and-cache-folders.md).</span></span>

1. <span data-ttu-id="aee44-150">Se il pacchetto è stato scaricato, installare il pacchetto nella cartella *global-packages* per utente.</span><span class="sxs-lookup"><span data-stu-id="aee44-150">If downloaded, install the package into the per-user *global-packages* folder.</span></span> <span data-ttu-id="aee44-151">NuGet crea una sottocartella per ogni identificatore di pacchetto, quindi crea sottocartelle per ogni versione installata del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="aee44-151">NuGet creates a subfolder for each package identifier, then creates subfolders for each installed version of the package.</span></span>

1. <span data-ttu-id="aee44-152">Aggiornare altri file e cartelle di progetto:</span><span class="sxs-lookup"><span data-stu-id="aee44-152">Update other project files and folders:</span></span>

    - <span data-ttu-id="aee44-153">Per i progetti che usano PackageReference, aggiornare il grafico delle dipendenze del pacchetto archiviato in `obj/project.assets.json`.</span><span class="sxs-lookup"><span data-stu-id="aee44-153">For projects using PackageReference, update the package dependency graph stored in `obj/project.assets.json`.</span></span> <span data-ttu-id="aee44-154">Il contenuto del pacchetto stesso non viene copiato in alcuna cartella di progetto.</span><span class="sxs-lookup"><span data-stu-id="aee44-154">Package contents themselves are not copied into any project folder.</span></span>
    - <span data-ttu-id="aee44-155">Per i progetti che usano `packages.config`, copiare queste parti del pacchetto espanso che corrisponde al framework di destinazione del progetto nella cartella `packages` del progetto.</span><span class="sxs-lookup"><span data-stu-id="aee44-155">For projects using `packages.config`, copy those parts of the expanded package that match the project's target framework into project's `packages` folder.</span></span> <span data-ttu-id="aee44-156">Quando si usa `nuget install`, viene copiato l'intero pacchetto espanso perché `nuget.exe` non esamina i file di progetto per identificare il framework di destinazione.</span><span class="sxs-lookup"><span data-stu-id="aee44-156">(When using `nuget install`, the entire expanded package is copied because `nuget.exe` does not examine project files to identify the target framework.)</span></span>
    - <span data-ttu-id="aee44-157">Aggiornare `app.config` e/o `web.config` se il pacchetto usa [trasformazioni di file di origine e file di configurazione](../create-packages/source-and-config-file-transformations.md).</span><span class="sxs-lookup"><span data-stu-id="aee44-157">Update `app.config` and/or `web.config` if the package uses [source and config file transformations](../create-packages/source-and-config-file-transformations.md).</span></span>

1. <span data-ttu-id="aee44-158">Installare eventuali dipendenze di livello inferiore se non sono già presenti nel progetto.</span><span class="sxs-lookup"><span data-stu-id="aee44-158">Install any down-level dependencies if not already present in the project.</span></span> <span data-ttu-id="aee44-159">Questo processo potrebbe aggiornare le versioni del pacchetto nel processo, come descritto in [Risoluzione delle dipendenze](../consume-packages/dependency-resolution.md).</span><span class="sxs-lookup"><span data-stu-id="aee44-159">This process might update package versions in the process, as described in [Dependency Resolution](../consume-packages/dependency-resolution.md).</span></span>

1. <span data-ttu-id="aee44-160">(Solo Visual Studio) Visualizzare il file Leggimi del pacchetto, se disponibile, in una finestra di Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="aee44-160">(Visual Studio only) Display the package's readme file, if available, in a Visual Studio window.</span></span>

## <a name="related-articles"></a><span data-ttu-id="aee44-161">Articoli correlati</span><span class="sxs-lookup"><span data-stu-id="aee44-161">Related articles</span></span>

- [<span data-ttu-id="aee44-162">Panoramica e flusso di lavoro dell'utilizzo di pacchetti</span><span class="sxs-lookup"><span data-stu-id="aee44-162">Overview and workflow of package consumption</span></span>](../consume-packages/overview-and-workflow.md)
- [<span data-ttu-id="aee44-163">Ricerca e scelta di pacchetti</span><span class="sxs-lookup"><span data-stu-id="aee44-163">Finding and choosing packages</span></span>](../consume-packages/finding-and-choosing-packages.md)
- <span data-ttu-id="aee44-164">[Managing the NuGet cache and global-packages folders](managing-the-global-packages-and-cache-folders.md) (Gestione della cache NuGet e delle cartelle global-packages)</span><span class="sxs-lookup"><span data-stu-id="aee44-164">[Managing the NuGet cache and global-packages folders](managing-the-global-packages-and-cache-folders.md)</span></span>
- [<span data-ttu-id="aee44-165">Configurazione del comportamento di NuGet</span><span class="sxs-lookup"><span data-stu-id="aee44-165">Configuring NuGet behavior</span></span>](../consume-packages/configuring-nuget-behavior.md)
