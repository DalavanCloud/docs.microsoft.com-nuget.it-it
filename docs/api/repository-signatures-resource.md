---
title: API NuGet, repository firme | Microsoft Docs
author: joelverhagen
ms.author: jver
ms.date: 3/2/2018
ms.topic: reference
description: La risorsa di firme del repository consente ai client di origini dei pacchetti di annunciare il repository di funzionalità di firma.
ms.reviewer:
- karann
- unniravindranathan
ms.openlocfilehash: 81d32a7011268e45136e00cdb7345a95070aae06
ms.sourcegitcommit: be9c51b4b095aea40ef41bbea7e12ef0a194ee74
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 12/11/2018
ms.locfileid: "53248442"
---
# <a name="repository-signatures"></a><span data-ttu-id="9a5ea-103">Firme di repository</span><span class="sxs-lookup"><span data-stu-id="9a5ea-103">Repository signatures</span></span>

<span data-ttu-id="9a5ea-104">Se un'origine pacchetto supporta le firme di aggiunta repository per i pacchetti pubblicati, è possibile che un client di determinare i certificati di firma utilizzati per l'origine del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-104">If a package source supports adding repository signatures to published packages, it is possible for a client to determine the signing certificates that are used by the package source.</span></span> <span data-ttu-id="9a5ea-105">Questa risorsa consente ai client di rilevare se un repository firmato pacchetto è stato manomesso o ha un certificato di firma imprevisto.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-105">This resource allows clients to detect whether a repository signed package has been tampered or has an unexpected signing certificate.</span></span>

<span data-ttu-id="9a5ea-106">La risorsa usata per recuperare informazioni sulla firma questo repository è il `RepositorySignatures` trovare la risorsa nella [indice del servizio](service-index.md).</span><span class="sxs-lookup"><span data-stu-id="9a5ea-106">The resource used for fetching this repository signature information is the `RepositorySignatures` resource found in the [service index](service-index.md).</span></span>

## <a name="versioning"></a><span data-ttu-id="9a5ea-107">Controllo delle versioni</span><span class="sxs-lookup"><span data-stu-id="9a5ea-107">Versioning</span></span>

<span data-ttu-id="9a5ea-108">Nell'esempio `@type` valore viene usato:</span><span class="sxs-lookup"><span data-stu-id="9a5ea-108">The following `@type` value is used:</span></span>

<span data-ttu-id="9a5ea-109">Valore di @type</span><span class="sxs-lookup"><span data-stu-id="9a5ea-109">@type value</span></span>                | <span data-ttu-id="9a5ea-110">Note</span><span class="sxs-lookup"><span data-stu-id="9a5ea-110">Notes</span></span>
-------------------------- | -----
<span data-ttu-id="9a5ea-111">RepositorySignatures/4.7.0</span><span class="sxs-lookup"><span data-stu-id="9a5ea-111">RepositorySignatures/4.7.0</span></span> | <span data-ttu-id="9a5ea-112">La versione iniziale</span><span class="sxs-lookup"><span data-stu-id="9a5ea-112">The initial release</span></span>
<span data-ttu-id="9a5ea-113">RepositorySignatures/4.9.0</span><span class="sxs-lookup"><span data-stu-id="9a5ea-113">RepositorySignatures/4.9.0</span></span> | <span data-ttu-id="9a5ea-114">Consente di attivare `allRepositorySigned`</span><span class="sxs-lookup"><span data-stu-id="9a5ea-114">Allows enabling `allRepositorySigned`</span></span>

## <a name="base-url"></a><span data-ttu-id="9a5ea-115">URL di base</span><span class="sxs-lookup"><span data-stu-id="9a5ea-115">Base URL</span></span>

<span data-ttu-id="9a5ea-116">URL del punto di ingresso per le API seguenti è il valore della `@id` proprietà associato alla risorsa menzionati in precedenza `@type` valore.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-116">The entry point URL for the following APIs is the value of the `@id` property associated with the aforementioned resource `@type` value.</span></span> <span data-ttu-id="9a5ea-117">In questo argomento Usa l'URL segnaposto `{@id}`.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-117">This topic uses the placeholder URL `{@id}`.</span></span>

<span data-ttu-id="9a5ea-118">Si noti che a differenza di altre risorse, il `{@id}` l'URL è obbligatorio per essere serviti tramite HTTPS.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-118">Note that unlike other resources, the `{@id}` URL is required to be served over HTTPS.</span></span>

## <a name="http-methods"></a><span data-ttu-id="9a5ea-119">Metodi HTTP</span><span class="sxs-lookup"><span data-stu-id="9a5ea-119">HTTP methods</span></span>

<span data-ttu-id="9a5ea-120">Tutti gli URL trovati nei metodi di supporto solo HTTP di repository le firme resource `GET` e `HEAD`.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-120">All URLs found in the repository signatures resource support only the HTTP methods `GET` and `HEAD`.</span></span>

## <a name="repository-signatures-index"></a><span data-ttu-id="9a5ea-121">Indice delle firme del repository</span><span class="sxs-lookup"><span data-stu-id="9a5ea-121">Repository signatures index</span></span>

<span data-ttu-id="9a5ea-122">L'indice di firme di repository contiene due tipi di informazioni:</span><span class="sxs-lookup"><span data-stu-id="9a5ea-122">The repository signatures index contains two pieces of information:</span></span>

1. <span data-ttu-id="9a5ea-123">Se tutti i pacchetti disponibili nell'origine sono firmati da questa origine pacchetto repository.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-123">Whether or not all packages found on the source are repository signed by this package source.</span></span>
1. <span data-ttu-id="9a5ea-124">L'elenco dei certificati usati per l'origine del pacchetto per firmare i pacchetti.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-124">The list of certificates used by the package source to sign packages.</span></span>

<span data-ttu-id="9a5ea-125">Nella maggior parte dei casi, l'elenco dei certificati verrà aggiunto sempre a.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-125">In most cases, the list of certificates will only ever be appended to.</span></span> <span data-ttu-id="9a5ea-126">I nuovi certificati verranno aggiunto all'elenco quando il certificato di firma precedente è scaduto e l'origine del pacchetto deve iniziare a usare un nuovo certificato di firma.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-126">New certificates would be added to the list when the previous signing certificate has expired and the package source needs to start using a new signing certificate.</span></span> <span data-ttu-id="9a5ea-127">Se un certificato viene rimosso dall'elenco, che significa che tutte le firme dei pacchetti create con il certificato di firma rimosso non è più da considerare valide dal client.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-127">If a certificate is removed from the list, that means that all package signatures created with the removed signing certificate should no longer be considered valid by the client.</span></span> <span data-ttu-id="9a5ea-128">In questo caso, la firma del pacchetto, ma non necessariamente il pacchetto, non è valido.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-128">In this case, the package signature (but not necessarily the package) is invalid.</span></span> <span data-ttu-id="9a5ea-129">Un criterio client può consentire l'installazione del pacchetto come senza segno.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-129">A client policy may allow installing the package as unsigned.</span></span>

<span data-ttu-id="9a5ea-130">Nel caso di revoca del certificato (ad esempio, venga compromessa), l'origine del pacchetto deve firmare di nuovo tutti i pacchetti firmati dal certificato interessato.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-130">In the case of certificate revocation (e.g. key compromise), the package source is expected to re-sign all packages signed by the affected certificate.</span></span> <span data-ttu-id="9a5ea-131">Inoltre, l'origine del pacchetto deve rimuovere il certificato interessato dall'elenco di certificati di firma.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-131">Additionally, the package source should remove the affected certificate from the signing certificate list.</span></span>

<span data-ttu-id="9a5ea-132">La richiesta seguente recupera l'indice di firme di repository.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-132">The following request fetches the repository signatures index.</span></span>

    GET {@id}

<span data-ttu-id="9a5ea-133">L'indice di firma del repository è un documento JSON che contiene un oggetto con le proprietà seguenti:</span><span class="sxs-lookup"><span data-stu-id="9a5ea-133">The repository signature index is a JSON document that contains an object with the following properties:</span></span>

<span data-ttu-id="9a5ea-134">nome</span><span class="sxs-lookup"><span data-stu-id="9a5ea-134">Name</span></span>                | <span data-ttu-id="9a5ea-135">Tipo</span><span class="sxs-lookup"><span data-stu-id="9a5ea-135">Type</span></span>             | <span data-ttu-id="9a5ea-136">Obbligatorio</span><span class="sxs-lookup"><span data-stu-id="9a5ea-136">Required</span></span> | <span data-ttu-id="9a5ea-137">Note</span><span class="sxs-lookup"><span data-stu-id="9a5ea-137">Notes</span></span>
------------------- | ---------------- | -------- | -----
<span data-ttu-id="9a5ea-138">allRepositorySigned</span><span class="sxs-lookup"><span data-stu-id="9a5ea-138">allRepositorySigned</span></span> | <span data-ttu-id="9a5ea-139">boolean</span><span class="sxs-lookup"><span data-stu-id="9a5ea-139">boolean</span></span>          | <span data-ttu-id="9a5ea-140">sì</span><span class="sxs-lookup"><span data-stu-id="9a5ea-140">yes</span></span>      | <span data-ttu-id="9a5ea-141">Deve essere `false` su 4.7.0 risorsa</span><span class="sxs-lookup"><span data-stu-id="9a5ea-141">Must be `false` on 4.7.0 resource</span></span>
<span data-ttu-id="9a5ea-142">signingCertificates</span><span class="sxs-lookup"><span data-stu-id="9a5ea-142">signingCertificates</span></span> | <span data-ttu-id="9a5ea-143">Matrice di oggetti</span><span class="sxs-lookup"><span data-stu-id="9a5ea-143">array of objects</span></span> | <span data-ttu-id="9a5ea-144">sì</span><span class="sxs-lookup"><span data-stu-id="9a5ea-144">yes</span></span>      | 

<span data-ttu-id="9a5ea-145">Il `allRepositorySigned` valore booleano è impostato su false se l'origine del pacchetto ha alcuni pacchetti che non hanno alcuna firma dell'archivio.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-145">The `allRepositorySigned` boolean is set to false if the package source has some packages that have no repository signature.</span></span> <span data-ttu-id="9a5ea-146">Se il valore booleano è impostato su true, tutti i pacchetti disponibili in origine deve avere una firma di repository prodotta da uno dei certificati di firma menzionati `signingCertificates`.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-146">If the boolean is set to true, all packages available on the source must have a repository signature produced by one of the signing certificates mentioned in `signingCertificates`.</span></span>

> [!Warning]
> <span data-ttu-id="9a5ea-147">Il `allRepositorySigned` booleano deve essere false nel 4.7.0 risorsa.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-147">The `allRepositorySigned` boolean must be false on the 4.7.0 resource.</span></span> <span data-ttu-id="9a5ea-148">I client NuGet v4.7 e v 4.8 non è possibile installare i pacchetti da origini che hanno `allRepositorySigned` impostato su true.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-148">NuGet v4.7 and v4.8 clients cannot install packages from sources that have `allRepositorySigned` set to true.</span></span>

<span data-ttu-id="9a5ea-149">Deve essere presente uno o più certificati di firma nel `signingCertificates` matrice se il `allRepositorySigned` valore booleano è impostato su true.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-149">There should be one or more signing certificates in the `signingCertificates` array if the `allRepositorySigned` boolean is set to true.</span></span> <span data-ttu-id="9a5ea-150">Se la matrice è vuota e `allRepositorySigned` è impostato su true, tutti i pacchetti dall'origine devono essere considerati validi, anche se un criterio client consentono ancora il consumo dei pacchetti.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-150">If the array is empty and `allRepositorySigned` is set to true, all packages from the source should be considered invalid, although a client policy may still allow consumption of packages.</span></span> <span data-ttu-id="9a5ea-151">Ogni elemento nella matrice è un oggetto JSON con le proprietà seguenti.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-151">Each element in this array is a JSON object with the following properties.</span></span>

<span data-ttu-id="9a5ea-152">nome</span><span class="sxs-lookup"><span data-stu-id="9a5ea-152">Name</span></span>         | <span data-ttu-id="9a5ea-153">Tipo</span><span class="sxs-lookup"><span data-stu-id="9a5ea-153">Type</span></span>   | <span data-ttu-id="9a5ea-154">Obbligatorio</span><span class="sxs-lookup"><span data-stu-id="9a5ea-154">Required</span></span> | <span data-ttu-id="9a5ea-155">Note</span><span class="sxs-lookup"><span data-stu-id="9a5ea-155">Notes</span></span>
------------ | ------ | -------- | -----
<span data-ttu-id="9a5ea-156">contentUrl</span><span class="sxs-lookup"><span data-stu-id="9a5ea-156">contentUrl</span></span>   | <span data-ttu-id="9a5ea-157">stringa</span><span class="sxs-lookup"><span data-stu-id="9a5ea-157">string</span></span> | <span data-ttu-id="9a5ea-158">sì</span><span class="sxs-lookup"><span data-stu-id="9a5ea-158">yes</span></span>      | <span data-ttu-id="9a5ea-159">URL assoluto per il certificato pubblico con codifica DER</span><span class="sxs-lookup"><span data-stu-id="9a5ea-159">Absolute URL to the DER-encoded public certificate</span></span>
<span data-ttu-id="9a5ea-160">impronte digitali</span><span class="sxs-lookup"><span data-stu-id="9a5ea-160">fingerprints</span></span> | <span data-ttu-id="9a5ea-161">object</span><span class="sxs-lookup"><span data-stu-id="9a5ea-161">object</span></span> | <span data-ttu-id="9a5ea-162">sì</span><span class="sxs-lookup"><span data-stu-id="9a5ea-162">yes</span></span>      |
<span data-ttu-id="9a5ea-163">Oggetto</span><span class="sxs-lookup"><span data-stu-id="9a5ea-163">subject</span></span>      | <span data-ttu-id="9a5ea-164">stringa</span><span class="sxs-lookup"><span data-stu-id="9a5ea-164">string</span></span> | <span data-ttu-id="9a5ea-165">sì</span><span class="sxs-lookup"><span data-stu-id="9a5ea-165">yes</span></span>      | <span data-ttu-id="9a5ea-166">Il nome distinto del soggetto del certificato</span><span class="sxs-lookup"><span data-stu-id="9a5ea-166">The subject distinguished name from the certificate</span></span>
<span data-ttu-id="9a5ea-167">issuer</span><span class="sxs-lookup"><span data-stu-id="9a5ea-167">issuer</span></span>       | <span data-ttu-id="9a5ea-168">stringa</span><span class="sxs-lookup"><span data-stu-id="9a5ea-168">string</span></span> | <span data-ttu-id="9a5ea-169">sì</span><span class="sxs-lookup"><span data-stu-id="9a5ea-169">yes</span></span>      | <span data-ttu-id="9a5ea-170">Il nome distinto dell'emittente del certificato</span><span class="sxs-lookup"><span data-stu-id="9a5ea-170">The distinguished name of the certificate's issuer</span></span>
<span data-ttu-id="9a5ea-171">notBefore</span><span class="sxs-lookup"><span data-stu-id="9a5ea-171">notBefore</span></span>    | <span data-ttu-id="9a5ea-172">stringa</span><span class="sxs-lookup"><span data-stu-id="9a5ea-172">string</span></span> | <span data-ttu-id="9a5ea-173">sì</span><span class="sxs-lookup"><span data-stu-id="9a5ea-173">yes</span></span>      | <span data-ttu-id="9a5ea-174">Il timestamp di inizio del periodo di validità del certificato</span><span class="sxs-lookup"><span data-stu-id="9a5ea-174">The starting timestamp of the certificate's validity period</span></span>
<span data-ttu-id="9a5ea-175">notAfter</span><span class="sxs-lookup"><span data-stu-id="9a5ea-175">notAfter</span></span>     | <span data-ttu-id="9a5ea-176">stringa</span><span class="sxs-lookup"><span data-stu-id="9a5ea-176">string</span></span> | <span data-ttu-id="9a5ea-177">sì</span><span class="sxs-lookup"><span data-stu-id="9a5ea-177">yes</span></span>      | <span data-ttu-id="9a5ea-178">Il timestamp finale del periodo di validità del certificato</span><span class="sxs-lookup"><span data-stu-id="9a5ea-178">The ending timestamp of the certificate's validity period</span></span>

<span data-ttu-id="9a5ea-179">Si noti che il `contentUrl` deve essere gestito tramite HTTPS.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-179">Note that the `contentUrl` is required to be served over HTTPS.</span></span> <span data-ttu-id="9a5ea-180">Questo URL non ha alcun modello di URL specifico e deve essere individuato in modo dinamico utilizzando questo documento di repository le firme dell'indice.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-180">This URL has no specific URL pattern and must be dynamically discovered using this repository signatures index document.</span></span> 

<span data-ttu-id="9a5ea-181">Tutte le proprietà in questo oggetto (oltre `contentUrl`) deve essere derivabile dal certificato, vedere `contentUrl`.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-181">All properties in this object (aside from `contentUrl`) must be derivable from the certificate found at `contentUrl`.</span></span>
<span data-ttu-id="9a5ea-182">Queste proprietà derivabile sono fornite per praticità per ridurre i round trip.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-182">These derivable properties are provided as a convenience to minimize round trips.</span></span>

<span data-ttu-id="9a5ea-183">Il `fingerprints` oggetto presenta le proprietà seguenti:</span><span class="sxs-lookup"><span data-stu-id="9a5ea-183">The `fingerprints` object has the following properties:</span></span>

<span data-ttu-id="9a5ea-184">nome</span><span class="sxs-lookup"><span data-stu-id="9a5ea-184">Name</span></span>                   | <span data-ttu-id="9a5ea-185">Tipo</span><span class="sxs-lookup"><span data-stu-id="9a5ea-185">Type</span></span>   | <span data-ttu-id="9a5ea-186">Obbligatorio</span><span class="sxs-lookup"><span data-stu-id="9a5ea-186">Required</span></span> | <span data-ttu-id="9a5ea-187">Note</span><span class="sxs-lookup"><span data-stu-id="9a5ea-187">Notes</span></span>
---------------------- | ------ | -------- | -----
<span data-ttu-id="9a5ea-188">2.16.840.1.101.3.4.2.1</span><span class="sxs-lookup"><span data-stu-id="9a5ea-188">2.16.840.1.101.3.4.2.1</span></span> | <span data-ttu-id="9a5ea-189">stringa</span><span class="sxs-lookup"><span data-stu-id="9a5ea-189">string</span></span> | <span data-ttu-id="9a5ea-190">sì</span><span class="sxs-lookup"><span data-stu-id="9a5ea-190">yes</span></span>      | <span data-ttu-id="9a5ea-191">L'impronta digitale SHA-256</span><span class="sxs-lookup"><span data-stu-id="9a5ea-191">The SHA-256 fingerprint</span></span>

<span data-ttu-id="9a5ea-192">Il nome della chiave `2.16.840.1.101.3.4.2.1` è l'OID dell'algoritmo hash SHA-256.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-192">The key name `2.16.840.1.101.3.4.2.1` is the OID of the SHA-256 hash algorithm.</span></span>

<span data-ttu-id="9a5ea-193">Tutti i valori hash devono essere rappresentazioni di stringa di caratteri minuscoli, con codifica esadecimale di digest hash.</span><span class="sxs-lookup"><span data-stu-id="9a5ea-193">All hash values must be lowercase, hex-encoded string representations of the hash digest.</span></span>

### <a name="sample-request"></a><span data-ttu-id="9a5ea-194">Richiesta di esempio</span><span class="sxs-lookup"><span data-stu-id="9a5ea-194">Sample request</span></span>

    GET https://api.nuget.org/v3-index/repository-signatures/index.json

### <a name="sample-response"></a><span data-ttu-id="9a5ea-195">Risposta di esempio</span><span class="sxs-lookup"><span data-stu-id="9a5ea-195">Sample response</span></span>

[!code-JSON [repository-signatures-index.json](./_data/repository-signatures-index.json)]
